{
    "servers":  [
                    {
                        "url":  "http://localhost:3000/api",
                        "description":  "Development"
                    }
                ],
    "paths":  {
                  "/cart/my":  {
                                   "get":  {
                                               "summary":  "Get cart",
                                               "tags":  [
                                                            "Cart"
                                                        ],
                                               "security":  [
                                                                {
                                                                    "BearerAuth":  [

                                                                                   ]
                                                                }
                                                            ],
                                               "responses":  {
                                                                 "200":  {
                                                                             "description":  "Cart"
                                                                         }
                                                             }
                                           }
                               },
                  "/auth/register":  {
                                         "post":  {
                                                      "summary":  "Register new user",
                                                      "tags":  [
                                                                   "Auth"
                                                               ],
                                                      "responses":  {
                                                                        "201":  {
                                                                                    "description":  "Registered"
                                                                                },
                                                                        "400":  {
                                                                                    "description":  "Error"
                                                                                }
                                                                    },
                                                      "requestBody":  {
                                                                          "content":  {
                                                                                          "application/json":  {
                                                                                                                   "schema":  {
                                                                                                                                  "properties":  {
                                                                                                                                                     "email":  {
                                                                                                                                                                   "type":  "string"
                                                                                                                                                               },
                                                                                                                                                     "name":  {
                                                                                                                                                                  "type":  "string"
                                                                                                                                                              },
                                                                                                                                                     "password":  {
                                                                                                                                                                      "type":  "string"
                                                                                                                                                                  }
                                                                                                                                                 },
                                                                                                                                  "type":  "object",
                                                                                                                                  "required":  [
                                                                                                                                                   "name",
                                                                                                                                                   "email",
                                                                                                                                                   "password"
                                                                                                                                               ]
                                                                                                                              }
                                                                                                               }
                                                                                      },
                                                                          "required":  true
                                                                      }
                                                  }
                                     },
                  "/cart/remove/{productId}":  {
                                                   "delete":  {
                                                                  "summary":  "Remove",
                                                                  "tags":  [
                                                                               "Cart"
                                                                           ],
                                                                  "security":  [
                                                                                   {
                                                                                       "BearerAuth":  [

                                                                                                      ]
                                                                                   }
                                                                               ],
                                                                  "responses":  {
                                                                                    "200":  {
                                                                                                "description":  "OK"
                                                                                            }
                                                                                },
                                                                  "parameters":  [
                                                                                     {
                                                                                         "name":  "productId",
                                                                                         "in":  "path",
                                                                                         "schema":  {
                                                                                                        "type":  "string"
                                                                                                    },
                                                                                         "required":  true
                                                                                     }
                                                                                 ]
                                                              }
                                               },
                  "/cart/update":  {
                                       "put":  {
                                                   "summary":  "Update",
                                                   "tags":  [
                                                                "Cart"
                                                            ],
                                                   "security":  [
                                                                    {
                                                                        "BearerAuth":  [

                                                                                       ]
                                                                    }
                                                                ],
                                                   "responses":  {
                                                                     "200":  {
                                                                                 "description":  "OK"
                                                                             }
                                                                 },
                                                   "requestBody":  {
                                                                       "content":  {
                                                                                       "application/json":  {
                                                                                                                "schema":  {
                                                                                                                               "properties":  {
                                                                                                                                                  "productId":  {
                                                                                                                                                                    "type":  "string"
                                                                                                                                                                },
                                                                                                                                                  "quantity":  {
                                                                                                                                                                   "type":  "integer"
                                                                                                                                                               }
                                                                                                                                              },
                                                                                                                               "type":  "object",
                                                                                                                               "required":  [
                                                                                                                                                "productId",
                                                                                                                                                "quantity"
                                                                                                                                            ]
                                                                                                                           }
                                                                                                            }
                                                                                   },
                                                                       "required":  true
                                                                   }
                                               }
                                   },
                  "/profile/me":  {
                                      "get":  {
                                                  "summary":  "Profile",
                                                  "tags":  [
                                                               "Profile"
                                                           ],
                                                  "security":  [
                                                                   {
                                                                       "BearerAuth":  [

                                                                                      ]
                                                                   }
                                                               ],
                                                  "responses":  {
                                                                    "200":  {
                                                                                "description":  "Data"
                                                                            }
                                                                }
                                              }
                                  },
                  "/cart/add":  {
                                    "post":  {
                                                 "summary":  "Add",
                                                 "tags":  [
                                                              "Cart"
                                                          ],
                                                 "security":  [
                                                                  {
                                                                      "BearerAuth":  [

                                                                                     ]
                                                                  }
                                                              ],
                                                 "responses":  {
                                                                   "201":  {
                                                                               "description":  "OK"
                                                                           }
                                                               },
                                                 "requestBody":  {
                                                                     "content":  {
                                                                                     "application/json":  {
                                                                                                              "schema":  {
                                                                                                                             "properties":  {
                                                                                                                                                "productId":  {
                                                                                                                                                                  "type":  "string"
                                                                                                                                                              },
                                                                                                                                                "quantity":  {
                                                                                                                                                                 "default":  1,
                                                                                                                                                                 "type":  "integer"
                                                                                                                                                             }
                                                                                                                                            },
                                                                                                                             "type":  "object",
                                                                                                                             "required":  [
                                                                                                                                              "productId"
                                                                                                                                          ]
                                                                                                                         }
                                                                                                          }
                                                                                 },
                                                                     "required":  true
                                                                 }
                                             }
                                },
                  "/auth/login":  {
                                      "post":  {
                                                   "summary":  "Login",
                                                   "tags":  [
                                                                "Auth"
                                                            ],
                                                   "responses":  {
                                                                     "200":  {
                                                                                 "description":  "JWT"
                                                                             },
                                                                     "400":  {
                                                                                 "description":  "Error"
                                                                             }
                                                                 },
                                                   "requestBody":  {
                                                                       "content":  {
                                                                                       "application/json":  {
                                                                                                                "schema":  {
                                                                                                                               "properties":  {
                                                                                                                                                  "password":  {
                                                                                                                                                                   "type":  "string"
                                                                                                                                                               },
                                                                                                                                                  "email":  {
                                                                                                                                                                "type":  "string"
                                                                                                                                                            }
                                                                                                                                              },
                                                                                                                               "type":  "object",
                                                                                                                               "required":  [
                                                                                                                                                "email",
                                                                                                                                                "password"
                                                                                                                                            ]
                                                                                                                           }
                                                                                                            }
                                                                                   },
                                                                       "required":  true
                                                                   }
                                               }
                                  },
                  "/profile/change-password":  {
                                                   "put":  {
                                                               "summary":  "Change password",
                                                               "tags":  [
                                                                            "Profile"
                                                                        ],
                                                               "security":  [
                                                                                {
                                                                                    "BearerAuth":  [

                                                                                                   ]
                                                                                }
                                                                            ],
                                                               "responses":  {
                                                                                 "200":  {
                                                                                             "description":  "OK"
                                                                                         }
                                                                             },
                                                               "requestBody":  {
                                                                                   "content":  {
                                                                                                   "application/json":  {
                                                                                                                            "schema":  {
                                                                                                                                           "properties":  {
                                                                                                                                                              "oldPassword":  {
                                                                                                                                                                                  "type":  "string"
                                                                                                                                                                              },
                                                                                                                                                              "newPassword":  {
                                                                                                                                                                                  "type":  "string"
                                                                                                                                                                              }
                                                                                                                                                          },
                                                                                                                                           "type":  "object",
                                                                                                                                           "required":  [
                                                                                                                                                            "oldPassword",
                                                                                                                                                            "newPassword"
                                                                                                                                                        ]
                                                                                                                                       }
                                                                                                                        }
                                                                                               },
                                                                                   "required":  true
                                                                               }
                                                           }
                                               },
                  "/auth/me":  {
                                   "get":  {
                                               "summary":  "Get user",
                                               "tags":  [
                                                            "Auth"
                                                        ],
                                               "security":  [
                                                                {
                                                                    "BearerAuth":  [

                                                                                   ]
                                                                }
                                                            ],
                                               "responses":  {
                                                                 "200":  {
                                                                             "description":  "User"
                                                                         }
                                                             }
                                           }
                               },
                  "/profile/update-name":  {
                                               "put":  {
                                                           "summary":  "Update name",
                                                           "tags":  [
                                                                        "Profile"
                                                                    ],
                                                           "security":  [
                                                                            {
                                                                                "BearerAuth":  [

                                                                                               ]
                                                                            }
                                                                        ],
                                                           "responses":  {
                                                                             "200":  {
                                                                                         "description":  "OK"
                                                                                     }
                                                                         },
                                                           "requestBody":  {
                                                                               "content":  {
                                                                                               "application/json":  {
                                                                                                                        "schema":  {
                                                                                                                                       "properties":  {
                                                                                                                                                          "name":  {
                                                                                                                                                                       "type":  "string"
                                                                                                                                                                   }
                                                                                                                                                      },
                                                                                                                                       "type":  "object",
                                                                                                                                       "required":  [
                                                                                                                                                        "name"
                                                                                                                                                    ]
                                                                                                                                   }
                                                                                                                    }
                                                                                           },
                                                                               "required":  true
                                                                           }
                                                       }
                                           }
              },
    "components":  {
                       "securitySchemes":  {
                                               "BearerAuth":  {
                                                                  "scheme":  "bearer",
                                                                  "type":  "http",
                                                                  "bearerFormat":  "JWT"
                                                              }
                                           },
                       "schemas":  {
                                       "User":  {
                                                    "properties":  {
                                                                       "email":  {
                                                                                     "type":  "string"
                                                                                 },
                                                                       "name":  {
                                                                                    "type":  "string"
                                                                                },
                                                                       "_id":  {
                                                                                   "type":  "string"
                                                                               },
                                                                       "role":  {
                                                                                    "type":  "string"
                                                                                }
                                                                   },
                                                    "type":  "object"
                                                },
                                       "Cart":  {
                                                    "properties":  {
                                                                       "userId":  {
                                                                                      "type":  "string"
                                                                                  },
                                                                       "items":  {
                                                                                     "items":  {
                                                                                                   "$ref":  "#/components/schemas/CartItem"
                                                                                               },
                                                                                     "type":  "array"
                                                                                 },
                                                                       "_id":  {
                                                                                   "type":  "string"
                                                                               }
                                                                   },
                                                    "type":  "object"
                                                },
                                       "CartItem":  {
                                                        "properties":  {
                                                                           "productId":  {
                                                                                             "type":  "string"
                                                                                         },
                                                                           "quantity":  {
                                                                                            "type":  "integer",
                                                                                            "minimum":  1
                                                                                        }
                                                                       },
                                                        "type":  "object"
                                                    }
                                   }
                   },
    "openapi":  "3.0.0",
    "info":  {
                 "title":  "Zestora Ecommerce API",
                 "description":  "API for Zestora e-commerce - Auth, Cart, Profile",
                 "version":  "1.0.0"
             }
}
